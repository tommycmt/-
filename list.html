<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>聖誕派對一番賞抽獎</title>
  <script src="./js/all.js"></script>
  <link rel="stylesheet" href="./css/bg.css">
  <link rel="stylesheet" href="./css/list.css">
</head>

<body>
  <div class="background">
    <section class="snow">
      <div class="snowflake"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake1"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake2"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake3"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake4"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake5"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake6"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake7"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake8"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake9"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake10"><i class="fa-solid fa-snowflake"></i></div>
      <div class="snowflake11"><i class="fa-solid fa-snowflake"></i></div>
      <div class="snowflake12"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake13"><i class="fa-regular fa-snowflake"></i></div>
      <div class="snowflake14"><i class="fa-regular fa-snowflake"></i></div>
    </section>
  </div>
  <div class="list-container">
    <h1>🎄 聖誕派對一番賞抽獎 🎄</h1>
    <div class="prizes">
      <div class="prize" id="prize-1">
        <div class="prize-cat-S1">Last One</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>
      <div class="prize" id="prize-2">
        <div class="prize-cat-S2">A</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>
      <div class="prize">
        <div class="prize-cat-A">A</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>
      <div class="prize">
        <div class="prize-cat-B">B</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-C">C</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-D">D</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-E">E</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-F">F</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-F">F</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-G">G</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-G">G</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>

      <div class="prize">
        <div class="prize-cat-G">G</div>
        <div class="prize-name">豪華聖誕禮盒</div>
        <div class="remaining">1</div>
      </div>



    </div>
</body>

<script>
  function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        try {
          result = JSON.parse(this.responseText);
          result.Items.forEach(function(item) {
            console.log(item);
            id = "prize-" + item.id.S;
            document.getElementById(id).getElementsByClassName("remaining")[0].innerHTML = item.qty.N;
          });

        } catch (e) {
          console.error("Error parsing JSON: ", e);
          console.log("Response: ", this.responseText);
        }
      }
    };
    xhttp.open("GET", "https://znojd4bork.execute-api.ap-southeast-1.amazonaws.com/default/listdb?httpMethod=GET", true);
    xhttp.send();
  }
  </script>
  

</html>